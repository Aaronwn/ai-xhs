<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°çº¢ä¹¦çˆ†æ¬¾ç¬”è®°ç”Ÿæˆå™¨ - AI é©±åŠ¨çš„å†…å®¹åˆ›ä½œåŠ©æ‰‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="bg-gradient-to-b from-pink-50 to-white min-h-screen">
    <!-- Navbar -->
    <nav class="border-b bg-white/80 backdrop-blur-md fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <span class="text-2xl">âœ¨</span>
                <span class="font-bold text-gray-900">å°çº¢ä¹¦åŠ©æ‰‹</span>
            </div>
            <div class="flex items-center space-x-4">
                <a href="#features" class="text-gray-600 hover:text-gray-900">åŠŸèƒ½</a>
                <a href="#how-it-works" class="text-gray-600 hover:text-gray-900">ä½¿ç”¨è¯´æ˜</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-32 pb-20 px-4">
        <div class="max-w-4xl mx-auto text-center">
            <div class="animate-fade-in-up">
                <h1 class="text-5xl font-bold bg-gradient-to-r from-pink-500 to-violet-500 bg-clip-text text-transparent mb-6">
                    å°çº¢ä¹¦çˆ†æ¬¾ç¬”è®°ç”Ÿæˆå™¨
                </h1>
                <p class="text-xl text-gray-600 mb-8">
                    è®© AI ä¸ºä½ æ‰“é€ çˆ†æ¬¾å†…å®¹ï¼Œè½»æ¾è·å¾—æ›´å¤šç‚¹èµä¸å…³æ³¨
                </p>
            </div>

            <!-- Main Input Section -->
            <div class="bg-white rounded-2xl shadow-xl p-8 mb-12 max-w-2xl mx-auto">
                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">è¾“å…¥åˆ›ä½œä¸»é¢˜</label>
                        <input type="text" id="topic"
                            class="w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-pink-500 focus:border-transparent transition-all"
                            placeholder="ä¾‹å¦‚ï¼šå’–å•¡åº—æ¢åº—ã€ç©¿æ­åˆ†äº«ã€è¯»ä¹¦ç¬”è®°..." />
                    </div>
                    <button onclick="generateContent()"
                        class="w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white py-4 px-6 rounded-lg font-medium hover:opacity-90 transition-all transform hover:scale-[1.02] active:scale-[0.98]">
                        âœ¨ ä¸€é”®ç”Ÿæˆçˆ†æ¬¾ç¬”è®°
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-16">ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬ï¼Ÿ</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                <div class="text-center p-6 rounded-xl hover:shadow-lg transition-all">
                    <div class="bg-pink-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                        <span class="text-3xl">âš¡ï¸</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">å¿«é€Ÿç”Ÿæˆ</h3>
                    <p class="text-gray-600">ç§’çº§ç”Ÿæˆä¼˜è´¨å†…å®¹ï¼ŒèŠ‚çœåˆ›ä½œæ—¶é—´ï¼Œæé«˜å‘æ–‡æ•ˆç‡</p>
                </div>
                <div class="text-center p-6 rounded-xl hover:shadow-lg transition-all">
                    <div class="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                        <span class="text-3xl">ğŸ¯</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">ç²¾å‡†å®šä½</h3>
                    <p class="text-gray-600">æ·±åº¦ç†è§£å°çº¢ä¹¦è°ƒæ€§ï¼Œç”Ÿæˆç¬¦åˆå¹³å°ç‰¹ç‚¹çš„å†…å®¹</p>
                </div>
                <div class="text-center p-6 rounded-xl hover:shadow-lg transition-all">
                    <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6">
                        <span class="text-3xl">ğŸš€</span>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">æ•°æ®é©±åŠ¨</h3>
                    <p class="text-gray-600">åŸºäºæµ·é‡æ•°æ®åˆ†æï¼Œæä¾›æ›´å®¹æ˜“çˆ†æ¬¾çš„å†…å®¹æ–¹å‘</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How it works -->
    <section id="how-it-works" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-16">ä½¿ç”¨æµç¨‹</h2>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="text-center">
                    <div class="bg-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md">
                        <span class="font-bold text-pink-500">1</span>
                    </div>
                    <h3 class="font-medium mb-2">è¾“å…¥ä¸»é¢˜</h3>
                    <p class="text-gray-600 text-sm">é€‰æ‹©ä½ æƒ³åˆ›ä½œçš„å†…å®¹æ–¹å‘</p>
                </div>
                <div class="text-center">
                    <div class="bg-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md">
                        <span class="font-bold text-pink-500">2</span>
                    </div>
                    <h3 class="font-medium mb-2">ä¸€é”®ç”Ÿæˆ</h3>
                    <p class="text-gray-600 text-sm">AI å¿«é€Ÿç”Ÿæˆå†…å®¹æ¡†æ¶</p>
                </div>
                <div class="text-center">
                    <div class="bg-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md">
                        <span class="font-bold text-pink-500">3</span>
                    </div>
                    <h3 class="font-medium mb-2">ä¼˜åŒ–è°ƒæ•´</h3>
                    <p class="text-gray-600 text-sm">æ ¹æ®éœ€æ±‚å¾®è°ƒå†…å®¹</p>
                </div>
                <div class="text-center">
                    <div class="bg-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md">
                        <span class="font-bold text-pink-500">4</span>
                    </div>
                    <h3 class="font-medium mb-2">å‘å¸ƒè·èµ</h3>
                    <p class="text-gray-600 text-sm">æ”¶è·ç‚¹èµä¸å…³æ³¨</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Result Modal -->
    <div id="resultModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50">
        <div class="bg-white rounded-2xl max-w-2xl mx-auto mt-20 p-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">ç”Ÿæˆç»“æœ</h3>
                <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700">âœ•</button>
            </div>

            <!-- æ·»åŠ åŠ è½½åŠ¨ç”» -->
            <div id="loadingIndicator" class="hidden text-center py-8">
                <div class="animate-spin rounded-full h-12 w-12 border-4 border-pink-500 border-t-transparent mx-auto mb-4"></div>
                <p class="text-gray-600">æ­£åœ¨åˆ›ä½œä¸­ï¼Œè¯·ç¨å€™...</p>
            </div>

            <div id="resultContent" class="prose max-w-none">
                <!-- ç”Ÿæˆçš„å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>

            <!-- æ·»åŠ å¤åˆ¶æŒ‰é’® -->
            <button onclick="copyToClipboard()"
                class="mt-4 px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors float-right">
                å¤åˆ¶æ–‡æœ¬
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-50 border-t py-12">
        <div class="max-w-7xl mx-auto px-4 text-center text-gray-600">
            <p>Â© 2024 å°çº¢ä¹¦çˆ†æ¬¾ç¬”è®°ç”Ÿæˆå™¨ - AI é©±åŠ¨çš„å†…å®¹åˆ›ä½œåŠ©æ‰‹</p>
        </div>
    </footer>

    <script>
        async function generateContent() {
            const topic = document.getElementById('topic').value.trim();
            if (!topic) {
                alert('è¯·è¾“å…¥ä¸»é¢˜');
                return;
            }

            const resultModal = document.getElementById('resultModal');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const resultContent = document.getElementById('resultContent');

            // æ˜¾ç¤ºæ¨¡æ€æ¡†å’ŒåŠ è½½åŠ¨ç”»
            resultModal.classList.remove('hidden');
            loadingIndicator.classList.remove('hidden');
            resultContent.innerHTML = '';

            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ theme: topic }), // æ³¨æ„è¿™é‡Œä½¿ç”¨ theme ä½œä¸ºé”®åï¼Œä¸åç«¯å¯¹åº”
                });

                const data = await response.json();
                if (data.error) {
                    throw new Error(data.error);
                }

                // ä½¿ç”¨ marked æ¸²æŸ“ Markdown
                resultContent.innerHTML = marked.parse(data.note);
            } catch (error) {
                resultContent.innerHTML = `<div class="text-red-500">ç”Ÿæˆå¤±è´¥ï¼š${error.message}</div>`;
            } finally {
                loadingIndicator.classList.add('hidden');
            }
        }

        function closeModal() {
            document.getElementById('resultModal').classList.add('hidden');
        }

        function copyToClipboard() {
            const resultContent = document.getElementById('resultContent');
            const textArea = document.createElement('textarea');
            textArea.value = resultContent.textContent;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);

            // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'å·²å¤åˆ¶ï¼';
            setTimeout(() => {
                button.textContent = originalText;
            }, 2000);
        }
    </script>

    <!-- æ·»åŠ  marked.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</body>
</html>